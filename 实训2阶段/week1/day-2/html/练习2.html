<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title>QQ简易聊天框</title>
    <link rel="stylesheet" href="../css/chat.css">
    <script type="text/javascript" src="../js/jquery-1.12.4.js"></script>
    <script>
      $(document).ready(function(){
         var name = ["唐舞麟", "小舞", "唐三"];
            var str=[];
            $("#send").click(function () {
                qqGo();
            })
            $(document).keydown(function (even) {
                if (even.keyCode == 13) {
                    qqGo();
                }
            })
            function qqGo() {
                if ($(".chatText").val() != "") {
                    //设置随机数
                    var num = Math.floor(Math.random() *3) + 1;
                    //设置聊天内容
                    
                    //随机图片
                    var headStar = "<div class='t1'><img src=../images/head0"+ num+".jpg></div>";
                    //随机名字
                    var userName = "<span class='t2'>" + name[num - 1] + "</span>";
                    //文本内容
                    var chatAtr = "<div class='t3'>" + $(".chatText").val() + "</div>";
                    
                    var currentStr = "<section>" + headStar + userName + chatAtr + "</section>";

                    str+=currentStr; //
                     //获取到的聊天的内容加入到chatBody的div上去
                    $(".chatBody").html(str);
                    //输入框内容清空
                    $(".chatText").val("");
                    $(".t1").css("display","inline-block");
                    $(".t2").css("display","inline-block");
                    
                }else{
                    alert("请输入内容") 
                }
            }
        });
    </script>
    <style>
      .puts{
        font-size: 20px;
        background-color: #ccc;
        text-align: center;
        width: 100%;
        height: 20px;
      }
      .t1{
        float: left;
        margin: 10px;
      }
      .t2{
        height: 33px;
        text-align: center;
        line-height: 33px;
        font-size: 16px;
        margin-top: 10px;
        font-weight: 800;
        color: rgb(46, 52, 134);
      }
      .t3{
        margin-left: 50px;
        width: 330px;
        line-height: 30px;
        border-radius: 10px;
        padding-left: 10px;
        background-color: rgb(245, 236, 236);
      }
    </style>
</head>
<body>
<section id="chat">
    <div class="chatBody">
      <div class="tp">
      </div>
    </div>
    <div><img src=../images/icon.jpg></div>
    <textarea class="chatText"></textarea>
    <div class="btn"><span>关闭(C)</span><span id="send">发送(S)</span></div>
    
</section>
</body>
</html>